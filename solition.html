<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
</body>
<script>
    let terms = {
        'A': '6',
        'B': '12',
        'C': '3',
    }
    let privacies = ['2021.05.1 A', '2021.07.01 B', '2022.02.19 C', '2022.02.20 C']
    let today = '2022.05.19';
    solution(today, terms, privacies);
    function yearCheck(today,privacies,termCheck) {
        let td = today.replaceAll('.','-');
        let pr = privacies.replaceAll('.','-');
        let objObj = {
            'today' : td,
            'privacies' : pr,
            'term': termCheck
        }
        return objObj
    }

    function isExpired(check,length) {
        let today = new Date(check.today)
        let privacies = new Date(check.privacies)
        let termsData = check.term;
        console.log('termsData ==========', termsData)
        let date = privacies
        console.log('privacies ==========',privacies)
        date.setMonth(privacies.getMonth() + Number(termsData));
        console.log('dat =========',date);
        console.log('today ========',today);
        let now = today;
        if (now < date) {
            console.log('기간남음');
        } else {
            length++;
            console.log('초과임');
        }
        return length;
    }

    function solution(today, terms, privacies) {
        let length = 0;
        let lengthFinal = 0;
        privacies.map(function (val,idx) {
            let termCk = val.split(' ');
            let prDay = termCk[0];
            let term = termCk[1];
            let obj = yearCheck(today,prDay,terms[term]);
            console.log(isExpired(obj,length));
            lengthFinal += isExpired(obj,length);
        });
        console.log('lengthFinal',lengthFinal)
        return lengthFinal
    }



</script>
</html>